<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/html">
<head>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>
    {% from 'bootstrap5/form.html' import render_form %}

    <meta charset="UTF-8">
    <title>Cafe&Wifi API</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.5.0/css/all.css" integrity="sha384-B4dIYHKNBt8Bc12p+WXckhzcICo0wtJAoU8YZTY5qE0Id1GSseTk6S+L3BlXeVIU" crossorigin="anonymous">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
</head>

<style>

    .container {
  width: 100%;
  height: 100vh;
}

.toppane {
  width: 100%;
  height: 100px;

}

.leftpane {
  width: 20%;
  height: 100vh;
}

.middlepane {
  width: 50%;
  height: 100vh;
}

.rightpane {
  width: 45%;
  height: 100vh;
}

body {
  margin: 0!important;
}

.d-flex {
  display: flex;
}



</style>
<body>

    <div class="">
  <div class="toppane">
      <div class="d-flex">
          <a href="{{url_for('dell_filters')}}"><h1  style="color: black; display: inline-block; margin-left:20px; margin-top:10px;">Welcome to the Cafe & Wifi API </h1></a>
<!--          <a class="btn btn-outline-danger fs-5" href="{{url_for('home')}}" style="margin-left:500px; margin-top:35px; color: black"></a>-->
          <button style="margin-left:500px; margin-top:35px; color: black" type="button" class="btn btn-primary" data-toggle="modal" data-target="#myModal">
        ADD NEW CAFE
    </button>
      </div>
      <!-- create the modal -->
    <div class="modal fade input-group mb-3" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="myModalLabel">New Place</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">Ã—</span>
                    </button>
                </div>
                <div class="modal-body input-group mb-3">
                <!-- create a form inside the modal -->
                <form class="row g-3" method="post" action="{{url_for('new_cafe')}}">
                      <div class="col-md-6">
                        <label for="name" class="form-label">Name</label>
                        <input type="text" class="form-control" id="name" name="name">
                      </div>
                      <div class="col-md-6">
                        <label for="location" class="form-label">location</label>
                        <input type="text" class="form-control" id="location" name="location">
                      </div>
                      <div class="col-12">
                        <label for="img_url" class="form-label">Image URL</label>
                        <input type="url" class="form-control" id="img_url" placeholder="Img url" name="img_url">
                      </div>
                      <div class="col-12">
                        <label for="map_url" class="form-label">Map URL</label>
                        <input type="text" class="form-control" id="map_url" placeholder="Map url" name="map_url">
                      </div>

                      <div class="col-md-4">
                        <label for="seats" class="form-label">Seats</label>
                        <select id="seats" class="form-select" name="seats">
                          <option selected>Choose...</option>
                            <option value="0-10">0 ~ 10</option>
                            <option value="10-20">10 ~ 20</option>
                            <option value="20-30">20 ~ 30</option>
                            <option value="30-40">30 ~ 40</option>
                            <option value="40-50">40 ~ 50</option>
                            <option value="50+">50+</option>
                        </select>
                      </div>
                      <div class="col-md-6">
                        <label for="price" class="form-label">Price</label>
                        <input type="text" class="form-control" id="price" name="coffee_price">
                      </div>
                      <div class="col-3">
                        <div class="form-check">
                          <input class="form-check-input" type="checkbox" value="True" id="has_toilet" name="has_toilet">
                          <label class="form-check-label" for="has_toilet">
                            Restroom
                          </label>
                        </div>
                      </div>
                    <div class="col-3">
                        <div class="form-check">
                          <input class="form-check-input" type="checkbox" value="True" id="wifi" name="has_wifi">
                          <label class="form-check-label" for="wifi">
                            WIFI
                          </label>
                        </div>
                      </div>
                        <div class="col-3">
                        <div class="form-check">
                          <input class="form-check-input" type="checkbox" value="True"  id="has_sockets" name="has_sockets">
                          <label class="form-check-label" for="has_sockets">
                            Sockets
                          </label>
                        </div>
                      </div>
                        <div class="col-3">
                        <div class="form-check">
                          <input class="form-check-input" type="checkbox" value="True" id="can_take_calls" name="can_take_calls">
                          <label class="form-check-label" for="can_take_calls">
                            Take Call
                          </label>
                        </div>
                      </div>
                      <div class="col-3">
                        <button type="submit" class="btn btn-primary">Add Place</button>
                      </div>
                    </form>
                </div>
            </div>
        </div>
    </div>

  </div>

  <div class="d-flex">
    <div class="leftpane px-3" style="width:380px;height:540px; overflow:auto;">
        <div>
            <h1 style="display: inline-block">Filters </h1><a href="{{url_for('dell_filters')}}" style="padding-left:100px">reset</a></div>

            <form method="post" action="{{url_for('filtering',name='search')}}">
                <div class="input-group mb-3 my-4">
          <input name="search" type="text" class="form-control  bg-success bg-opacity-50 border border-start-1 rounded-start"
                 placeholder="Name Or Address"
                 aria-describedby="button-addon2">
          <button class="btn btn-outline-success" type="submit" id="button-addon2">Search</button>
            </div>
            </form>
        <h5 class="py-4">MY PLACES</h5>
        <div class="row no-gutters">
            <div class="col-3 col-xl-3 col-lg-4 py-1">
            <a href="{{url_for('filtering',name='my_place')}}" class="btn btn-filter" data-action="liked">
            <i class="bi bi-heart-fill"></i>
            <br>
            <span title="Liked">Liked</span>
            </a>
                <i class="bi bi-bath"></i>
            </div>
        </div>
        <h5 class="py-4">PRODUCTIVITY</h5>

        <div class="d-flex gap-2 mb-3">
            <div>
            <a href="{{url_for('filtering',name='wifi')}}" class="btn btn-outline-dark" data-criteria="wifi" >
            <i class="bi bi-wifi"></i>
            <br>
            <span title="Stable Wi-Fi">
            Wi-Fi
            </span>
            </a>
            </div>

            <div>
            <a href="{{url_for('filtering',name='sockets')}}" class="btn btn-outline-dark " data-criteria="Plug" >
            <i class="bi bi-plugin"></i>
            <br>
            <span title="Sockets">
            Sockets
            </span>
            </a>
            </div>
            <div>
            <a href="{{url_for('filtering',name='can_make_call')}}" class="btn btn-outline-dark " data-criteria="calls" >
            <i class="bi bi-headset"></i>

            <br>
            <span title="Take Call">
            Calls
            </span>
            </a>
            </div>
        </div>
        <div class="d-flex gap-2 mb-3">
            <div>
            <a href="{{url_for('filtering',name='seat')}}" class="btn btn-outline-dark" data-criteria="Seats">
            <i class='fas fa-chair'></i>
                <br>
                <span title="Seat">
            Seat
            </span>
            </a>
            </div>
            <div>
            <a href="{{url_for('filtering',name='less_price')}}" class="btn btn-outline-dark" data-criteria="price">
            <i class='fas fa-search-dollar'></i>
                <br>
                <span title="Coffee Price">
            Less Price
            </span>
            </a>
            </div>
            <div>
            <a href="{{url_for('filtering',name='high_price')}}" class="btn btn-outline-dark" data-criteria="price">
            <i class='fas fa-search-dollar'></i>
                <br>
                <span title="Coffee Price">
            high Price
            </span>
            </a>
            </div>
        </div>
        <h5 class="py-4">SPACE</h5>
        <div class="d-flex gap-2 mb-3">
            <div>
            <a href="{{url_for('filtering',name='restroom')}}" class="btn btn-outline-dark " data-criteria="toilet-paper">
            <i class='fas fa-toilet-paper'></i>
            <br>
            <span title="Restroom">
            Restroom
            </span>
            </a>
            </div>
        </div>
    </div>
    <div class="middlepane container" style="height:540px; overflow:auto;">
        <div>
            {% with messages = get_flashed_messages() %}
                {% if messages %}
                  {% for message in messages %}
                    <p class='flashes opacity' style="font-weight: bold;color:#EB1D36; text-align:center">{{ message }}</p>
                  {% endfor %}
               {% endif %}
            {% endwith %}
        </div>
        {%for item in all%}
        <a id="{{item.id}}"></a>
        <div class="card mb-2 my-2" style="max-width:540px;" >
          <div class="row g-0">
            <div class="col-md-4">
              <a href="#">
                  <img class="bd-placeholder-img img-fluid rounded-start " style="object-fit: cover;width: 100%;height: 18vw;"
                   width="300px" height="200px" src="{{item.img_url}}" role="img" aria-label="Placeholder: Image" >
              </a>
            </div>
            <div class="col-md-8">
              <div class="card-body">
                <h5 class="card-title">{{item.name}}</h5>
                <p class="card-text">{{item.location}}</p>
                  <p class="fs-6">Seats: {{item.seats}}</p>
                  <p class="fs-6">Price: {{item.coffee_price}}</p>
                  {%if item.has_wifi == 1%}
                    <i class="bi bi-wifi" style="color:green"></i>
                  {%endif%}
                  {%if item.has_sockets == 1%}
                    <i class="bi bi-plugin" style="color:green"></i>
                  {%endif%}
                  {%if item.has_toilet == 1%}
                    <i class='fas fa-toilet-paper' style="color:green"></i>
                  {%endif%}
                  {%if item.can_take_calls == 1%}
                    <i class="bi bi-headset" style="color:green"></i>
                  {%endif%}
                <p class="card-text"><small class="text-body-secondary">Last updated 3 mins ago</small>

                    {%if item.likes == 1%}
                    <a href="{{url_for('unlike',cafe_id=item.id)}}"  style="padding-left:100px; color:red;"><i class="bi bi-hearts"></i></a>
                    {%else%}
                    <a href="{{url_for('like',cafe_id=item.id)}}"   style="padding-left:100px;color:black"><i class="bi bi-hearts"></i></a>
                  {%endif%}
              </div>
            </div>
          </div>
        </div>
        {%endfor%}
    </div>
   <div class="rightpane" style="float:right; height:540px; overflow:auto;">
        <iframe src="https://www.google.com/maps/d/embed?mid=1yJD85PbvsTyhYXJyvle4pNGfsdzIg34&hl=en&ehbc=2E312F" width="450" height="540" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
    </div>
  </div>

</div>


</body>
</html>
<footer>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous">
    </script>
</footer>





